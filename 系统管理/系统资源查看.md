## vmstat 命令监控系统资源

```bash
vmstat [刷新延时 刷新次数]
```

e.g.

```bash
vmstat 1 3
```

| procs | 进程信息字段                             |
| ----- | ---------------------------------------- |
| r     | 等待运行的进程数，数量越大，系统越繁忙   |
| b     | 不可被唤醒的进程数，数量越大，系统越繁忙 |

| memory | 内存信息字段                |
| ------ | --------------------------- |
| swpd   | 虚拟内存的使用情况，单位 KB |
| free   | 空闲的内存容量，单位 KB     |
| buff   | 缓冲的内存容量，单位 KB     |
| cache  | 缓存的内存容量，单位 KB     |

| system | 系统信息字段 |
| ------ | ------------ |
| in     |              |
| cs     |              |

| CPU | CPU 信息字段 |
| --- | ------------ |
| us  |              |
| sy  |              |
| id  |              |
| wa  |              |
| st  |              |

## dmesg 开机时内核检测信息

```bash
dmesg
dmesg | grep CPU
```

## free 命令查看内存使用状态

```bash
free [-b|-k|-m|-g]
```

### 选项

| 选项 | 备注                                       |
| ---- | ------------------------------------------ |
| -b   | 以字节为单位显示                           |
| -k   | 以 KB 为单位显示，默认就是以 KB 为单位显示 |
| -m   | 以 MB 为单位显示                           |
| -g   | 以 GB 为单位显示                           |

## 查看 CPU 信息

```bash
cat /proc/cpuinfo
```

## uptime 命令

```bash
uptime
# 显示系统的启动时间和平均负载，也就是top命令的第一行。w命令也可以看到这个数据。
```

## 查看系统与内核相关信息

```bash
uname [选项]
```

### 选项

| 选项 | 备注                 |
| ---- | -------------------- |
| -a   | 查看系统所有相关信息 |
| -r   | 查看内核版本         |
| -s   | 查看内核名称         |

## 判断当前系统的位数

```bash
file /bin/ls
```

## 查看当前 Linux 系统的发行版本

```bash
lsb_release -a
```

## 列出进程打开或使用的文件信息

```bash
lsof [选项]
# 列出进程调用或打开的文件的信息
```

### 选项

| 选项 | 备注                                       |
| ---- | ------------------------------------------ |
| -c   | 字符串：只列出以字符串开头的进程打开的文件 |
| -u   | 用户名：只列出某个用户的进程打开的文件     |
| -p   | pid：只列出某个 PID 进程打开的文件         |

e.g.

```bash
lsof | more
# 查询系统中所有进程调用的文件
lsof /sbin/init
# 查询某个文件被哪个进程调用
lsof -c httpd
# 查看httpd进程调用了哪些文件
lsof -u root
# 按照用户名，查询某用户的进程调用的文件名
```
